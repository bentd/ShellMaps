runtime: python
env: flex
entrypoint: gunicorn -b :$PORT server:app

runtime_config:
  python_version: 2

env_variables:
    SQLALCHEMY_DATABASE_URI: mysql+pymysql://root:kmug07shTrnQYWNnjUwRMVEwsiQ2vZFD@/casedb?unix_socket=/cloudsql/case-app-backend:us-east1:casedb
    APP_SETTINGS: server.config.ProductionConfig

beta_settings:
    cloud_sql_instances: case-app-backend:us-east1:casedb

automatic_scaling:
  min_num_instances: 1
  max_num_instances: 20
  cpu_utilization:
    target_utilization: 0.5
